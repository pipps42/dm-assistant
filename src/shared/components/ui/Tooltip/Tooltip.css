/* ================================================================
   TOOLTIP COMPONENT STYLES - USING DESIGN SYSTEM TOKENS
   ================================================================ */

/* ================================
   TOOLTIP WRAPPER
   ================================ */

.dm-tooltip-wrapper {
  position: relative;
  display: inline-block;
}

/* ================================
   TOOLTIP TRIGGER
   ================================ */

.dm-tooltip-trigger {
  display: inline-block;
  outline: none;
}

/* ================================
   TOOLTIP CONTENT BASE
   ================================ */

.dm-tooltip-content {
  position: absolute;
  z-index: var(--tooltip-z-index);
  max-width: var(--tooltip-max-width);
  padding: var(--tooltip-padding-y) var(--tooltip-padding-x);
  border-radius: var(--tooltip-border-radius);
  font-size: var(--font-size-sm);
  line-height: var(--line-height-normal);
  word-wrap: break-word;
  animation: tooltipEnter 150ms ease-out;
  pointer-events: none;
  user-select: none;
}

/* ================================
   TOOLTIP VARIANTS
   ================================ */

.dm-tooltip-content-default {
  background-color: var(--surface-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-primary);
  box-shadow: var(--shadow-md);
}

.dm-tooltip-content-dark {
  background-color: var(--color-gray-900);
  color: white;
  border: 1px solid var(--color-gray-800);
}

.dm-tooltip-content-light {
  background-color: white;
  color: var(--color-gray-900);
  border: 1px solid var(--color-gray-200);
  box-shadow: var(--shadow-lg);
}

/* ================================
   TOOLTIP POSITIONING - TOP
   ================================ */

.dm-tooltip-content-top {
  bottom: calc(100% + var(--tooltip-side-offset, 8px));
  left: 50%;
  transform: translateX(-50%);
}

.dm-tooltip-content-top-start {
  bottom: calc(100% + var(--tooltip-side-offset, 8px));
  left: 0;
}

.dm-tooltip-content-top-end {
  bottom: calc(100% + var(--tooltip-side-offset, 8px));
  right: 0;
}

/* ================================
   TOOLTIP POSITIONING - BOTTOM
   ================================ */

.dm-tooltip-content-bottom {
  top: calc(100% + var(--tooltip-side-offset, 8px));
  left: 50%;
  transform: translateX(-50%);
}

.dm-tooltip-content-bottom-start {
  top: calc(100% + var(--tooltip-side-offset, 8px));
  left: 0;
}

.dm-tooltip-content-bottom-end {
  top: calc(100% + var(--tooltip-side-offset, 8px));
  right: 0;
}

/* ================================
   TOOLTIP POSITIONING - LEFT
   ================================ */

.dm-tooltip-content-left {
  right: calc(100% + var(--tooltip-side-offset, 8px));
  top: 50%;
  transform: translateY(-50%);
}

.dm-tooltip-content-left-start {
  right: calc(100% + var(--tooltip-side-offset, 8px));
  top: 0;
}

.dm-tooltip-content-left-end {
  right: calc(100% + var(--tooltip-side-offset, 8px));
  bottom: 0;
}

/* ================================
   TOOLTIP POSITIONING - RIGHT
   ================================ */

.dm-tooltip-content-right {
  left: calc(100% + var(--tooltip-side-offset, 8px));
  top: 50%;
  transform: translateY(-50%);
}

.dm-tooltip-content-right-start {
  left: calc(100% + var(--tooltip-side-offset, 8px));
  top: 0;
}

.dm-tooltip-content-right-end {
  left: calc(100% + var(--tooltip-side-offset, 8px));
  bottom: 0;
}

/* ================================
   TOOLTIP INNER CONTENT
   ================================ */

.dm-tooltip-inner {
  position: relative;
  z-index: 1;
}

/* ================================
   TOOLTIP ARROW BASE
   ================================ */

.dm-tooltip-arrow {
  position: absolute;
  width: var(--tooltip-arrow-size);
  height: var(--tooltip-arrow-size);
  transform: rotate(45deg);
  z-index: 0;
}

/* ================================
   TOOLTIP ARROW VARIANTS
   ================================ */

.dm-tooltip-content-default .dm-tooltip-arrow {
  background-color: var(--surface-primary);
  border: 1px solid var(--border-primary);
}

.dm-tooltip-content-dark .dm-tooltip-arrow {
  background-color: var(--color-gray-900);
  border: 1px solid var(--color-gray-800);
}

.dm-tooltip-content-light .dm-tooltip-arrow {
  background-color: white;
  border: 1px solid var(--color-gray-200);
}

/* ================================
   TOOLTIP ARROW POSITIONING - TOP
   ================================ */

.dm-tooltip-arrow-top {
  top: 100%;
  left: 50%;
  transform: translateX(-50%) rotate(45deg);
  border-top: none;
  border-left: none;
}

.dm-tooltip-arrow-top-start {
  top: 100%;
  left: calc(var(--tooltip-arrow-size) * 1.5);
  transform: rotate(45deg);
  border-top: none;
  border-left: none;
}

.dm-tooltip-arrow-top-end {
  top: 100%;
  right: calc(var(--tooltip-arrow-size) * 1.5);
  transform: rotate(45deg);
  border-top: none;
  border-left: none;
}

/* ================================
   TOOLTIP ARROW POSITIONING - BOTTOM
   ================================ */

.dm-tooltip-arrow-bottom {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) rotate(45deg);
  border-bottom: none;
  border-right: none;
}

.dm-tooltip-arrow-bottom-start {
  bottom: 100%;
  left: calc(var(--tooltip-arrow-size) * 1.5);
  transform: rotate(45deg);
  border-bottom: none;
  border-right: none;
}

.dm-tooltip-arrow-bottom-end {
  bottom: 100%;
  right: calc(var(--tooltip-arrow-size) * 1.5);
  transform: rotate(45deg);
  border-bottom: none;
  border-right: none;
}

/* ================================
   TOOLTIP ARROW POSITIONING - LEFT
   ================================ */

.dm-tooltip-arrow-left {
  left: 100%;
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
  border-left: none;
  border-bottom: none;
}

.dm-tooltip-arrow-left-start {
  left: 100%;
  top: calc(var(--tooltip-arrow-size) * 1.5);
  transform: rotate(45deg);
  border-left: none;
  border-bottom: none;
}

.dm-tooltip-arrow-left-end {
  left: 100%;
  bottom: calc(var(--tooltip-arrow-size) * 1.5);
  transform: rotate(45deg);
  border-left: none;
  border-bottom: none;
}

/* ================================
   TOOLTIP ARROW POSITIONING - RIGHT
   ================================ */

.dm-tooltip-arrow-right {
  right: 100%;
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
  border-right: none;
  border-top: none;
}

.dm-tooltip-arrow-right-start {
  right: 100%;
  top: calc(var(--tooltip-arrow-size) * 1.5);
  transform: rotate(45deg);
  border-right: none;
  border-top: none;
}

.dm-tooltip-arrow-right-end {
  right: 100%;
  bottom: calc(var(--tooltip-arrow-size) * 1.5);
  transform: rotate(45deg);
  border-right: none;
  border-top: none;
}

/* ================================
   TOOLTIP ANIMATIONS
   ================================ */

@keyframes tooltipEnter {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Apply transform origin based on position */
.dm-tooltip-content-top,
.dm-tooltip-content-top-start,
.dm-tooltip-content-top-end {
  transform-origin: bottom center;
}

.dm-tooltip-content-bottom,
.dm-tooltip-content-bottom-start,
.dm-tooltip-content-bottom-end {
  transform-origin: top center;
}

.dm-tooltip-content-left,
.dm-tooltip-content-left-start,
.dm-tooltip-content-left-end {
  transform-origin: right center;
}

.dm-tooltip-content-right,
.dm-tooltip-content-right-start,
.dm-tooltip-content-right-end {
  transform-origin: left center;
}

/* ================================
   RESPONSIVE DESIGN
   ================================ */

@media (max-width: 640px) {
  .dm-tooltip-content {
    max-width: calc(100vw - 2rem);
    font-size: var(--font-size-xs);
  }

  /* On mobile, prefer bottom positioning */
  .dm-tooltip-content-top,
  .dm-tooltip-content-top-start,
  .dm-tooltip-content-top-end,
  .dm-tooltip-content-left,
  .dm-tooltip-content-left-start,
  .dm-tooltip-content-left-end,
  .dm-tooltip-content-right,
  .dm-tooltip-content-right-start,
  .dm-tooltip-content-right-end {
    top: calc(100% + var(--tooltip-side-offset, 8px));
    bottom: auto;
    left: 50%;
    right: auto;
    transform: translateX(-50%);
  }

  /* Mobile arrows always point up */
  .dm-tooltip-content-top .dm-tooltip-arrow,
  .dm-tooltip-content-top-start .dm-tooltip-arrow,
  .dm-tooltip-content-top-end .dm-tooltip-arrow,
  .dm-tooltip-content-left .dm-tooltip-arrow,
  .dm-tooltip-content-left-start .dm-tooltip-arrow,
  .dm-tooltip-content-left-end .dm-tooltip-arrow,
  .dm-tooltip-content-right .dm-tooltip-arrow,
  .dm-tooltip-content-right-start .dm-tooltip-arrow,
  .dm-tooltip-content-right-end .dm-tooltip-arrow {
    bottom: 100%;
    top: auto;
    left: 50%;
    right: auto;
    transform: translateX(-50%) rotate(45deg);
    border-bottom: none;
    border-right: none;
    border-top: 1px solid;
    border-left: 1px solid;
  }
}

/* ================================
   DARK MODE SUPPORT
   ================================ */

html.dark .dm-tooltip-content-default {
  background-color: var(--surface-primary);
  color: var(--text-primary);
  border-color: var(--border-secondary);
}

html.dark .dm-tooltip-content-default .dm-tooltip-arrow {
  background-color: var(--surface-primary);
  border-color: var(--border-secondary);
}

/* ================================
   HIGH CONTRAST MODE
   ================================ */

@media (prefers-contrast: high) {
  .dm-tooltip-content {
    border-width: 2px;
  }

  .dm-tooltip-arrow {
    border-width: 2px;
  }
}

/* ================================
   REDUCED MOTION
   ================================ */

@media (prefers-reduced-motion: reduce) {
  .dm-tooltip-content {
    animation: none;
  }
}

/* ================================
   PRINT STYLES
   ================================ */

@media print {
  .dm-tooltip-content {
    display: none;
  }
}
